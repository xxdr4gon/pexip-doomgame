<!doctype html>
<html lang="en-us">
<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body bgcolor="black" style="color:white">
<canvas id="wa_canvas" style="display:block;margin:0 auto;max-width:100%" oncontextmenu="event.preventDefault()" width="960" height="600"></canvas>
<div style="text-align:center; width:100%">
	<span id="wa_control" style="display:none">
</div>
<script type='text/javascript'>
var WA =
{
	canvas: document.getElementById('wa_canvas'),
	print: (msg)=>console.log(msg),
	error: function(code, msg)
	{
		var L = {
			BOOT:  'Error during startup. Your browser might not support WebAssembly. Please update it to the latest version.',
			WEBGL: 'Your browser or graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#EEE">WebGL</a>.<br>Find out how to get it <a href="http://get.webgl.org/" style="color:#EEE">here</a>.',
			CRASH: 'dos-like crashed.',
			MEM:   'dos-like ran out of memory.',
			EXIT:  'Shutdown',
		};
		var w = WA.canvas.clientWidth, h = WA.canvas.clientHeight, p = (h/2-30), c = L[code] + (code != 'EXIT' ? '<br><br><sub>(' + msg + ')</sub>' : '');
		WA.canvas.outerHTML = '<div style="text-align:center;background:#000;color:#888'+(h ? ';margin:0 auto;width:'+w+'px;height:'+(h-p)+'px;padding-top:'+p+'px':'')+'">'+c+'</div>';
	},
	started: function()
	{
		document.getElementById('wa_control').style.display = '';
	},
};
{{{js}}}
</script>
</body>
</html>
